import"./jsx-runtime.e92fe57f.js";import{c as i,A as X,C as J,S as W,M as Y,a as Z}from"./Props.6dcc4647.js";import{c as H}from"./iframe.9f7d92e6.js";import"./blocks.3c9ce2d7.js";import{C as Q,o as _,a as O,b as y,t as P,g as $,p as B,D as ee,n as x,q as M,j as T,v as te,F as ie,e as ae,y as se,z as ne}from"./vue.esm-bundler.3f4907d5.js";import{_ as le}from"./_plugin-vue_export-helper.cdc0426e.js";import"./string.20804f82.js";import"./es.map.constructor.a5cd5795.js";import"./es.number.to-fixed.34b4d69d.js";const oe=["thin","default","wide"];var U={exports:{}};(function(e,t){(function(a,c){e.exports=c()})(H,function(){var a="__v-click-outside",c=typeof window<"u",n=typeof navigator<"u",s=c&&("ontouchstart"in window||n&&navigator.msMaxTouchPoints>0)?["touchstart"]:["click"],m=function(o){var u=o.event,d=o.handler;(0,o.middleware)(u)&&d(u)},l=function(o,u){var d=function(r){var p=typeof r=="function";if(!p&&typeof r!="object")throw new Error("v-click-outside: Binding value must be a function or an object");return{handler:p?r:r.handler,middleware:r.middleware||function(h){return h},events:r.events||s,isActive:r.isActive!==!1,detectIframe:r.detectIframe!==!1,capture:Boolean(r.capture)}}(u.value),q=d.handler,D=d.middleware,G=d.detectIframe,A=d.capture;if(d.isActive){if(o[a]=d.events.map(function(r){return{event:r,srcTarget:document.documentElement,handler:function(p){return function(h){var g=h.el,f=h.event,C=h.handler,b=h.middleware,L=f.path||f.composedPath&&f.composedPath();(L?L.indexOf(g)<0:!g.contains(f.target))&&m({event:f,handler:C,middleware:b})}({el:o,event:p,handler:q,middleware:D})},capture:A}}),G){var K={event:"blur",srcTarget:window,handler:function(r){return function(p){var h=p.el,g=p.event,f=p.handler,C=p.middleware;setTimeout(function(){var b=document.activeElement;b&&b.tagName==="IFRAME"&&!h.contains(b)&&m({event:g,handler:f,middleware:C})},0)}({el:o,event:r,handler:q,middleware:D})},capture:A};o[a]=[].concat(o[a],[K])}o[a].forEach(function(r){var p=r.event,h=r.srcTarget,g=r.handler;return setTimeout(function(){o[a]&&h.addEventListener(p,g,A)},0)})}},v=function(o){(o[a]||[]).forEach(function(u){return u.srcTarget.removeEventListener(u.event,u.handler,u.capture)}),delete o[a]},S=c?{beforeMount:l,updated:function(o,u){var d=u.value,q=u.oldValue;JSON.stringify(d)!==JSON.stringify(q)&&(v(o),l(o,{value:d}))},unmounted:v}:{};return{install:function(o){o.directive("click-outside",S)},directive:S}})})(U);const re=U.exports;function j(e=""){const t="\xC0\xC1\xC2\xC3\xC4\xC5\xE0\xE1\xE2\xE3\xE4\xE5\xD2\xD3\xD4\xD5\xD5\xD6\xD8\xF2\xF3\xF4\xF5\xF6\xF8\xC8\xC9\xCA\xCB\xE8\xE9\xEA\xEB\xF0\xC7\xE7\xD0\xCC\xCD\xCE\xCF\xEC\xED\xEE\xEF\xD9\xDA\xDB\xDC\xF9\xFA\xFB\xFC\xD1\xF1\u0160\u0161\u0178\xFF\xFD\u017D\u017E",a="AAAAAAaaaaaaOOOOOOOooooooEEEEeeeeeCcDIIIIiiiiUUUUuuuuNnSsYyyZz",c=e.length;let n=e.split(""),s;for(let m=0;m<c;m+=1)s=t.indexOf(e[m]),s!==-1&&(n[m]=a[s]);return n=n.join(""),n=n.split(".").join(""),n=n.split("-").join(""),n=n.split("/").join(""),n}const z={props:{label:{type:String,default:"Label",required:!0},placeholder:{type:String,default:"Selecione...",required:!1},options:{type:Array,default:()=>[],required:!0},modelValue:{type:Object,required:!0},required:{type:Boolean,default:!1,required:!1},searchable:{type:Boolean,default:!1,required:!1},width:{type:String,default:"default",required:!1},fluid:{type:Boolean,default:!1,required:!1},disabled:{type:Boolean,default:!1,required:!1}},directives:{"on-click-outside":re.directive},data(){var e;return{currentPos:0,active:!1,id:null,allowSearch:this.searchable,localOptions:this.options,localValue:this.modelValue,internalValue:((e=this.modelValue)==null?void 0:e.value)||""}},mounted(){this.id=`select$-${this._uid}`},computed:{inputClass(){let e="";return e=this.active?"select__input--opened":"select__input--closed",e+=` select__input--${oe.find(t=>t===this.width)}`,e+=this.fluid?" select__input--fluid":" select__input--fit",e+=this.disabled?" select__input--disabled":"",e+=this.searchable?" select__input--searchable":"",e}},methods:{filterOptions(){const e=j(this.internalValue),t=new RegExp(e,"i");this.localOptions=this.options.filter(a=>j(a.value).search(t)>=0)},activeSelection(){this.disabled||(this.$nextTick().then(()=>{const e=this.localOptions[this.currentPos];this.$refs[`${e.value}-${this.currentPos}`][0].classList.add("highlight")}),this.active=!0)},activateSelectionOnEnter(){this.disabled||(this.active=!this.active,this.localValue=this.localOptions[this.currentPos])},activateSelectionOnClick(){this.disabled||(this.active=!0)},hide(){var e;this.localValue=this.localOptions[this.currentPos],this.active=!1,this.localOptions=[...this.options],this.internalValue=((e=this.localValue)==null?void 0:e.value)||""},getLiInDOM(e){const t=this.localOptions[e];return this.$refs[`${t.value}-${e}`][0]},handleOptionVisibility(e,t,a){const c=e.getBoundingClientRect(),n=this.$refs["select-options"],s=n.getBoundingClientRect();a==="up"&&c.top<=s.top&&(n.scrollTop+=t),a==="down"&&c.top>=s.bottom&&(n.scrollTop+=t)},highlightOnArrowDown(){if(this.currentPos===this.localOptions.length-1)return;this.currentPos+=1;const e=this.getLiInDOM(this.currentPos),t=this.getLiInDOM(this.currentPos-1);e.classList.add("highlight"),t.classList.remove("highlight"),this.handleOptionVisibility(e,37,"down")},highlightOnArrowUp(){if(this.currentPos===0)return;const e=this.getLiInDOM(this.currentPos),t=this.getLiInDOM(this.currentPos-1);e.classList.remove("highlight"),t.classList.add("highlight"),this.handleOptionVisibility(e,-37,"up"),this.currentPos-=1},highlightOnMouseOver(e){this.currentPos=e,this.getLiInDOM(this.currentPos).classList.add("highlight")},unhighlightOnMouseOut(){this.getLiInDOM(this.currentPos).classList.remove("highlight")}},watch:{localValue:{handler(e){this.internalValue=e==null?void 0:e.value,this.$emit("update:modelValue",e)},deep:!0},modelValue(e){this.internalValue=e==null?void 0:e.value}}},ce=e=>(se("data-v-dc253f88"),e=e(),ne(),e),ue={class:"select"},de={class:"select__label"},pe={key:0,class:"select--required"},he=["onkeypress","placeholder","disabled"],me={key:0,class:"option__container"},fe=["onMouseover"],ve={key:1,class:"option__container"},ge=ce(()=>y("li",{class:"option__text--muted"}," Nenhuma op\xE7\xE3o encontrada ",-1)),_e=[ge];function Oe(e,t,a,c,n,s){const m=Q("on-click-outside");return _(),O("div",ue,[y("span",de,P(a.label),1),a.required?(_(),O("span",pe," * ")):$("",!0),y("div",{class:x(["select__container",a.fluid?"select__container--fluid":"select__container--fit"])},[B(y("input",{"onUpdate:modelValue":t[0]||(t[0]=l=>n.internalValue=l),type:"text",onkeypress:`return ${n.allowSearch};`,class:x(s.inputClass),placeholder:a.placeholder,disabled:a.disabled,onKeydown:[t[1]||(t[1]=M(T((...l)=>s.activateSelectionOnEnter&&s.activateSelectionOnEnter(...l),["prevent"]),["enter"])),t[2]||(t[2]=M(T((...l)=>s.highlightOnArrowDown&&s.highlightOnArrowDown(...l),["prevent"]),["arrow-down"])),t[3]||(t[3]=M(T((...l)=>s.highlightOnArrowUp&&s.highlightOnArrowUp(...l),["prevent"]),["arrow-up"]))],onClick:t[4]||(t[4]=(...l)=>s.activateSelectionOnClick&&s.activateSelectionOnClick(...l)),onInput:t[5]||(t[5]=(...l)=>s.filterOptions&&s.filterOptions(...l)),onFocus:t[6]||(t[6]=(...l)=>s.activeSelection&&s.activeSelection(...l)),onBlur:t[7]||(t[7]=(...l)=>s.hide&&s.hide(...l))},null,42,he),[[ee,n.internalValue],[m,s.hide]]),B(y("div",{class:x(["select__options",{"select__options--thin":a.width==="thin","select__options--default":a.width==="default","select__options--wide":a.width=="wide","select__options--fluid":a.fluid}]),ref:"select-options"},[n.localOptions.length>0?(_(),O("ul",me,[(_(!0),O(ie,null,ae(n.localOptions,(l,v)=>(_(),O("li",{class:"option__text",key:v,ref_for:!0,ref:`${l.value}-${v}`,onMouseover:S=>s.highlightOnMouseOver(v),onMouseout:t[8]||(t[8]=S=>s.unhighlightOnMouseOut())},P(l.value),41,fe))),128))])):(_(),O("ul",ve,_e))],2),[[te,n.active]]),y("span",{class:x(n.active?"select__chevron--opened":"select__chevron--closed")},null,2)],2)])}const E=le(z,[["render",Oe],["__scopeId","data-v-dc253f88"]]);z.__docgenInfo={exportName:"default",displayName:"Select",description:"",tags:{},props:[{name:"label",description:"Especifica o t\xEDtulo do select.",type:{name:"string"},required:!0,defaultValue:{func:!1,value:"'Label'"}},{name:"placeholder",description:"Indica o texto que instrui o usu\xE1rio a como interagir com o select.",type:{name:"string"},required:!1,defaultValue:{func:!1,value:"'Selecione...'"}},{name:"options",description:"Array de objetos que especifica a lista de op\xE7\xF5es do select. Os valores\na serem mostrado como op\xE7\xF5es do select devem estar atribu\xEDdos a chave\n`value` do objeto.",type:{name:"array"},required:!0,defaultValue:{func:!1,value:"[]"}},{name:"modelValue",description:"Guarda o valor selecionado do select.",type:{name:"object"},required:!0},{name:"required",description:"Controla a exibi\xE7\xE3o do aster\xEDsco indicativo de campo obrigat\xF3rio.",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}},{name:"searchable",description:"Indica se vai ser poss\xEDvel fazer buscas no select.",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}},{name:"width",description:"Define a largura do Select. As op\xE7\xF5es s\xE3o 'thin', 'default' e 'wide'.",type:{name:"string"},required:!1,defaultValue:{func:!1,value:"'default'"}},{name:"fluid",description:"Especifica se a largura do select deve ser fluida.",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}},{name:"disabled",description:"Especifica o status de intera\xE7\xE3o do select.",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}}],events:[{name:"input",description:"Evento que indica que o valor do Select foi alterado",type:{names:["Event"]}}]};function k(){return k=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(e[c]=a[c])}return e},k.apply(this,arguments)}const N=e=>({components:{CdsSelect:E},setup(){return{args:e}},template:`
		<cds-select
			v-bind="args" 
		/>
	`}),V={value:"",id:""},F=[{value:"Breaking Bad",id:"1"},{value:"Game of Thrones "},{value:"The Umbrella Academy"},{value:"Fringe"},{value:"Breaking Bad"},{value:"Game of Thrones "},{value:"Dark"},{value:"\u{1F440} Borat: o segundo melhor rep\xF3rter do glorioso pa\xEDs Cazaquist\xE3o viaja \xE0 Am\xE9rica"},{value:"The Office",id:"2"},{value:"Black Mirror"},{value:"Westworld "},{value:"Avatar: A Lenda de Aang"},{value:"The Boys"},{value:"Vikings"},{value:"Arcane"}],ye={Template:N,value:V},be="wrapper";function R({components:e,...t}){return i(be,k({},ye,t,{components:e,mdxType:"MDXLayout"}),i(Y,{title:"Componentes/Forms/Select",component:E,argTypes:{width:{control:{type:"select",options:["thin","default","wide"]}}},mdxType:"Meta"}),i("h1",null,"Select"),i("h3",null,"Selects permitem que o usu\xE1rio escolha uma op\xE7\xE3o a partir de uma lista de itens."),i("hr",null),i("br",null),i("h2",null,"Recomendamos o uso de Selects quando:"),i("ul",null,i("li",{parentName:"ul"},"O usu\xE1rio tiver de escolher uma \xFAnica op\xE7\xE3o em uma lista com diversos itens.")),i("br",null),i("h2",null,"N\xE3o recomendamos o uso de Selects quando:"),i("ul",null,i("li",{parentName:"ul"},"A lista de op\xE7\xF5es possuir 3 itens ou menos. Nesses casos, recomendamos a utiliza\xE7\xE3o de radio buttons."),i("li",{parentName:"ul"},"O usu\xE1rio precisar selecionar mais de um item da lista. Nesse caso, utilize ",i("a",{href:"https://sysvale.github.io/cuida/?path=/docs/componentes-forms-clusteredmultiselect--clustered-multiselect"},"ClusteredMultiselects"),".")),i("br",null),i("h2",null,"Observa\xE7\xF5es:"),i("ul",null,i("li",{parentName:"ul"},"Coloque as op\xE7\xF5es mais prov\xE1veis de serem selecionadas no topo do select. Na d\xFAvida, ordene-os em ordem alfanum\xE9rica."),i("li",{parentName:"ul"},"As labels dos selects devem ser sucintas (de uma a tr\xEAs palavras)."),i("li",{parentName:"ul"},"As labels devem ser ser escritas com a primeira letra mai\xFAscula e as restantes min\xFAsculas."),i("li",{parentName:"ul"},"\u26A0\uFE0F ",i("strong",{parentName:"li"},"Importante:")," Para que o select funcione corretamente, a propriedade cujos valores ser\xE3o exibidos no select, deve se chamar ",i("inlineCode",{parentName:"li"},"value"),", como indicado no exemplo abaixo na tabela de props.")),i("br",null),i("h2",null,"Preview"),i(J,{mdxType:"Canvas"},i(W,{name:"Select",args:{value:V,options:F,width:"wide",label:"S\xE9ries",placeholder:"Selecione uma das s\xE9ries",required:!0},mdxType:"Story"},N.bind({}))),i(Z,{story:"Select",mdxType:"ArgsTable"}))}R.isMDXComponent=!0;const I=N.bind({});I.storyName="Select";I.args={value:V,options:F,width:"wide",label:"S\xE9ries",placeholder:"Selecione uma das s\xE9ries",required:!0};I.parameters={storySource:{source:`args => ({
  components: {
    CdsSelect: Select
  },

  setup() {
    return {
      args
    };
  },

  template:
  /*html*/
  \`
		<cds-select
			v-bind="args" 
		/>
	\`
})`}};const w={title:"Componentes/Forms/Select",component:E,argTypes:{width:{control:{type:"select",options:["thin","default","wide"]}}},includeStories:["select"]},we={Select:"select"};w.parameters=w.parameters||{};w.parameters.docs={...w.parameters.docs||{},page:()=>i(X,{mdxStoryNameToKey:we,mdxComponentAnnotations:w},i(R,null))};const Ne=["Template","value","options","select"];export{N as Template,Ne as __namedExportsOrder,w as default,F as options,I as select,V as value};
//# sourceMappingURL=Select.stories.398d1cc1.js.map
