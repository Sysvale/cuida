import"./jsx-runtime.ffeb56b3.js";import{c as n,A as k,C as w,S as D,M as S,a as F}from"./Props.13b11126.js";import"./iframe.093e9d3a.js";import"./blocks.947f14c5.js";import{i as z}from"./index.c9d1f29d.js";import{r as I,o as r,a as d,b as l,p as V,f as A,x as C,n as m,g as M,d as b,t as q,j as f,v as T,y as U,z as O,i as P,E as H}from"./vue.esm-bundler.3f4907d5.js";import{_ as N}from"./_plugin-vue_export-helper.cdc0426e.js";import"./string.c56be6cf.js";import"./es.map.constructor.e6dc69c1.js";import"./es.number.to-fixed.b45394ab.js";const _={components:{},props:{value:{default:null,description:"Armazena o valor do arquivo upado (acess\xEDvel via v-model)",required:!0},allowedExtensions:{type:String,default:null,description:`Define quais tipos de arquivos s\xE3o permitidos nessa inst\xE2ncia do UploadInput.
			`},size:{type:String,default:"md",description:"Define o tamanho do input: [lg, md (padr\xE3o), sm]"}},data(){return{file:!!this.value&&!z(this.value)?this.value:null,isOnDragEnterState:!1,isValid:null}},computed:{sizeClass(){const t={inputTitle:`upload-input__title--${this.size}`,holderPadding:"px-3",wrapperPadding:"px-2 py-4",contentPadding:"mt-3",svgScale:1};switch(this.size){case"lg":return{...t,holderPadding:"px-3 py-5",wrapperPadding:"py-5 px-2",contentPadding:"mt-5",svgScale:1.3};case"sm":return{...t,wrapperPadding:"py-2",holderPadding:"px-3 pb-2",contentPadding:"mt-1",svgScale:.8};default:return t}},acceptString(){if(this.allowedExtensions===null)return null;let t="";return this.allowedExtensions.split(",").forEach((s,p,i)=>{s&&s.trim().length>0&&(t+=`.${s.trim()}${p!==i.length-1?", ":""}`)}),t},computedAllowedMessage(){if(this.allowedExtensions){const e=this.allowedExtensions.split(",").length===1?"":"s";return`${`S\xE3o aceitos apenas arquivo${e} do${e} seguinte${e} tipo${e}:`} ${this.acceptString}.`}return null}},watch:{file(t){this.$emit("input",t)}},methods:{dropHandler(t){if(this.isValid=null,this.isOnDragEnterState=!1,t.preventDefault(),!t.dataTransfer.items||t.dataTransfer.items[0].kind!=="file")return;const e=t.dataTransfer.items[0].getAsFile();if(this.isAValidExtension(e.name)){this.file=e,this.isValid=!0;return}this.isValid=!1,this.file=null},linkClick(){this.$refs.fileInput.$el.childNodes[0].click()},isAValidExtension(t){if(this.allowedExtensions===null)return!0;const e=this.allowedExtensions.split(",");let s=t.split(".");return s=s[s.length-1].trim(),e.filter(p=>p===s).length>0},handleFormFileChange(t){this.isValid=null;const[e]=t.target.files||{};if(this.isAValidExtension(e.name)){this.file=e,this.isValid=!0;return}this.isValid=!1,this.$nextTick().then(()=>{this.file=null})},handleRemove(){this.isValid=null,this.file=null}}},c=t=>(U("data-v-794d5cff"),t=t(),O(),t),j={key:0},Z=c(()=>l("path",{d:"M43.6196 87.2393C67.7101 87.2393 87.2393 67.7101 87.2393 43.6196C87.2393 19.5292 67.7101 0 43.6196 0C19.5292 0 0 19.5292 0 43.6196C0 67.7101 19.5292 87.2393 43.6196 87.2393Z",fill:"#F0F5FF"},null,-1)),B=c(()=>l("path",{d:"M56.6196 93.2393C80.7101 93.2393 100.239 73.7101 100.239 49.6196C100.239 25.5292 80.7101 6 56.6196 6C32.5292 6 13 25.5292 13 49.6196C13 73.7101 32.5292 93.2393 56.6196 93.2393Z",stroke:"#3A7EDF","stroke-width":"4","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)),L=c(()=>l("path",{d:"M74.0675 49.6196L56.6196 32.1718L39.1718 49.6196",stroke:"#3A7EDF","stroke-width":"4","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)),R=c(()=>l("path",{d:"M56.6196 67.0675V32.1718",stroke:"#3A7EDF","stroke-width":"4","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)),X=[Z,B,L,R],K={key:0},G=c(()=>l("div",null,[P(" Arraste o arquivo aqui ou "),l("a",{href:"javascript:void(0)",class:"upload-input__search-link"}," pesquise no seu dispositivo ")],-1)),J={key:0,class:"upload-input__alert-container"},Q={key:1},W={key:1},Y=H('<path d="M43.6196 87.2393C67.7101 87.2393 87.2393 67.7101 87.2393 43.6196C87.2393 19.5292 67.7101 0 43.6196 0C19.5292 0 0 19.5292 0 43.6196C0 67.7101 19.5292 87.2393 43.6196 87.2393Z" fill="#F0F5FF" data-v-794d5cff></path><path d="M56.6196 93.2393C80.7101 93.2393 100.239 73.7101 100.239 49.6196C100.239 25.5292 80.7101 6 56.6196 6C32.5292 6 13 25.5292 13 49.6196C13 73.7101 32.5292 93.2393 56.6196 93.2393Z" stroke="#3A7EDF" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" data-v-794d5cff></path><path d="M45 70.5H69C72.032 70.5 74.5 68.0343 74.5 65V35C74.5 31.9657 72.032 29.5 69 29.5H45C41.968 29.5 39.5 31.9657 39.5 35V65C39.5 68.0343 41.968 70.5 45 70.5ZM42.5 35C42.5 33.6221 43.6221 32.5 45 32.5H69C70.3779 32.5 71.5 33.6221 71.5 35V65C71.5 66.3779 70.3779 67.5 69 67.5H45C43.6221 67.5 42.5 66.3779 42.5 65V35Z" fill="#3A7EDF" stroke="#3A7EDF" data-v-794d5cff></path><path d="M49 56.5H65C65.8281 56.5 66.5 55.8281 66.5 55C66.5 54.1719 65.8281 53.5 65 53.5H49C48.1719 53.5 47.5 54.1719 47.5 55C47.5 55.8281 48.1719 56.5 49 56.5Z" fill="#3A7EDF" stroke="#3A7EDF" data-v-794d5cff></path><path d="M49 64.5H65C65.8281 64.5 66.5 63.8281 66.5 63C66.5 62.1719 65.8281 61.5 65 61.5H49C48.1719 61.5 47.5 62.1719 47.5 63C47.5 63.8281 48.1719 64.5 49 64.5Z" fill="#3A7EDF" stroke="#3A7EDF" data-v-794d5cff></path><path d="M49 48.5H65C65.8281 48.5 66.5 47.8281 66.5 47C66.5 46.1719 65.8281 45.5 65 45.5H49C48.1719 45.5 47.5 46.1719 47.5 47C47.5 47.8281 48.1719 48.5 49 48.5Z" fill="#3A7EDF" stroke="#3A7EDF" data-v-794d5cff></path><path d="M49 40.5H65C65.8281 40.5 66.5 39.8281 66.5 39C66.5 38.1719 65.8281 37.5 65 37.5H49C48.1719 37.5 47.5 38.1719 47.5 39C47.5 39.8281 48.1719 40.5 49 40.5Z" fill="#3A7EDF" stroke="#3A7EDF" data-v-794d5cff></path>',7),$=[Y],ee={key:0},te={key:1};function ne(t,e,s,p,i,a){const E=I("b-form-file");return r(),d("div",{class:m(["upload-input text-center",{"upload-input--drag-state":i.isOnDragEnterState,[a.sizeClass.holderPadding]:s.size}]),onDragover:e[2]||(e[2]=f(o=>i.isOnDragEnterState=!0,["prevent","stop"])),onDragenter:e[3]||(e[3]=f(o=>i.isOnDragEnterState=!0,["prevent","stop"])),onDragleave:e[4]||(e[4]=f(o=>i.isOnDragEnterState=!1,["prevent","stop"])),onDragend:e[5]||(e[5]=f(o=>i.isOnDragEnterState=!1,["prevent","stop"])),onDrop:e[6]||(e[6]=(...o)=>a.dropHandler&&a.dropHandler(...o)),onClick:e[7]||(e[7]=(...o)=>a.linkClick&&a.linkClick(...o))},[l("div",{class:m(["text-center",a.sizeClass.wrapperPadding])},[V(A(E,{modelValue:i.file,"onUpdate:modelValue":e[0]||(e[0]=o=>i.file=o),accept:a.acceptString,ref:"fileInput",onChange:a.handleFormFileChange},null,8,["modelValue","accept","onChange"]),[[T,!1]]),i.file?(r(),d("div",W,[b(t.$slots,"file-preview",{},()=>[(r(),d("svg",{style:C(`transform: scale(${a.sizeClass.svgScale})`),width:"103",height:"96",viewBox:"0 0 103 96",fill:"none",xmlns:"http://www.w3.org/2000/svg"},$,4))],!0),l("div",{class:m({[a.sizeClass.inputTitle]:s.size,[a.sizeClass.contentPadding]:s.size})},[i.isOnDragEnterState?(r(),d("div",te," Solte aqui o seu arquivo ")):(r(),d("div",ee,[l("div",null,q(i.file.name),1),l("div",null,[l("div",null,[l("a",{href:"javascript:void(0)",class:"upload-input__search-link",onClick:e[1]||(e[1]=(...o)=>a.handleRemove&&a.handleRemove(...o))}," Remover ")])])]))],2)])):(r(),d("div",j,[(r(),d("svg",{style:C(`transform: scale(${a.sizeClass.svgScale})`),width:"103",height:"96",viewBox:"0 0 103 96",fill:"none",xmlns:"http://www.w3.org/2000/svg"},X,4)),l("div",{class:m({[a.sizeClass.inputTitle]:s.size,[a.sizeClass.contentPadding]:s.size})},[i.isOnDragEnterState?(r(),d("div",Q," Solte aqui o seu arquivo ")):(r(),d("div",K,[G,i.isValid===!1?(r(),d("div",J)):M("",!0)]))],2)]))],2)],34)}const v=N(_,[["render",ne],["__scopeId","data-v-794d5cff"]]);_.__docgenInfo={exportName:"default",displayName:"UploadInput",description:"",tags:{},props:[{name:"value",description:"O conte\xFAdo do arquivo upado.",type:{name:"object"},required:!0,defaultValue:{func:!1,value:"null"}},{name:"allowedExtensions",description:`Lista com extens\xF5es de arquivos (separadas por v\xEDrgula) as quais o usu\xE1rio pode selecionar.
Ex.: jpg,png`,type:{name:"string"},defaultValue:{func:!1,value:"null"}},{name:"size",description:"Define o tamanho do input [lg, md, sm]",type:{name:"string"},defaultValue:{func:!1,value:"'md'"}}],events:[{name:"input",description:"Evento utilizado para implementar o v-model.",type:{names:["Event"]}}],slots:[{name:"file-preview",description:"slot para renderiza\xE7\xE3o customizada do \xEDcone exibido ap\xF3s a sele\xE7\xE3o da imagem"}]};function h(){return h=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},h.apply(this,arguments)}const g=t=>({components:{CdsUploadInput:v},setup(){return{args:t}},template:`
		<cds-upload-input
			v-bind="args" 
		/>
	`}),se={Template:g},ae="wrapper";function y({components:t,...e}){return n(ae,h({},se,e,{components:t,mdxType:"MDXLayout"}),n(S,{title:"Componentes/Forms/UploadInput",component:v,argTypes:{size:{control:{type:"select",options:["md","lg","sm"]}}},mdxType:"Meta"}),n("h1",null,"UploadInput"),n("h3",null,"UploadInput \xE9 um input customizado de arquivos."),n("hr",null),n("br",null),n("h2",null,"Recomendamos o uso de UploadInputs quando:"),n("ul",null,n("li",{parentName:"ul"},"For necess\xE1rio que o usu\xE1rio fa\xE7a uploads do seu computador para a plataforma."),n("li",{parentName:"ul"},"For necess\xE1rio prover uma experi\xEAncia de arrasta e solta para upload de arquivos.")),n("br",null),n("h2",null,"N\xE3o recomendamos o uso de UploadInputs quando:"),n("ul",null,n("li",{parentName:"ul"},"Se tratar de uma experi\xEAncia mobile-first.")),n("br",null),n("h2",null,"Preview"),n(w,{mdxType:"Canvas"},n(D,{name:"UploadInput",mdxType:"Story"},g.bind({}))),n(F,{story:"UploadInput",mdxType:"ArgsTable"}))}y.isMDXComponent=!0;const x=g.bind({});x.storyName="UploadInput";x.parameters={storySource:{source:`args => ({
  components: {
    CdsUploadInput: UploadInput
  },

  setup() {
    return {
      args
    };
  },

  template:
  /*html*/
  \`
		<cds-upload-input
			v-bind="args" 
		/>
	\`
})`}};const u={title:"Componentes/Forms/UploadInput",component:v,argTypes:{size:{control:{type:"select",options:["md","lg","sm"]}}},includeStories:["uploadInput"]},ie={UploadInput:"uploadInput"};u.parameters=u.parameters||{};u.parameters.docs={...u.parameters.docs||{},page:()=>n(k,{mdxStoryNameToKey:ie,mdxComponentAnnotations:u},n(y,null))};const ve=["Template","uploadInput"];export{g as Template,ve as __namedExportsOrder,u as default,x as uploadInput};
//# sourceMappingURL=UploadInput.stories.ee07c4c5.js.map
