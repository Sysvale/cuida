import { Meta, Story, Props, ArgsTable, Canvas, Preview } from '@storybook/addon-docs';
import MultiFileInput from '../../components/MultiFileInput.vue';
import { colorOptions } from '../../utils/constants/colors';

<Meta
	title="Componentes/Forms/MultiFileInput"
	component={ MultiFileInput }
	argTypes={{
		variant: {
			control:{
				type: 'select',
				options: colorOptions.filter(color => color !== 'white' && color !== 'gray'),
			}
		},
	}}
	parameters={{
		viewMode: 'docs',
		previewTabs: { canvas: { hidden: true }},
		docs: {
			source: {
				language: 'html',
				format:true,
				code: /*html*/
`
<cds-multi-file-input
	documents="[
		{
			name: 'Comprovante de residência',
			required: true,
		},
		{
			name: 'Guia de encaminhamento',
			required: false,
		},
		{
			name: 'RG',
			required: false,
		},
	]",
	size="md"
/>
`
},
		}
	}}
/>

export const Template = (args) => ({
	components: { CdsMultiFileInput: MultiFileInput },
	setup() {
		return { args };
	},
	template: /*html*/ `
		<cds-multi-file-input
			size="md"
			@submit="console.info('Submit click')"
		/>
	`,
	methods: {},
});

# MultiFileInput

### O MultiFileInput é um componente que permite ao usuário selecionar e carregar múltiplos arquivos de forma organizada.
---
<br />

## Quando usar:
- Quando o usuário precisa enviar múltiplos arquivos em um único formulário.
- Para situações onde é importante visualizar a lista de arquivos selecionados antes de finalizar o envio.
- Quando o espaço na interface é limitado, mas a seleção de vários arquivos é um requisito.

<br />

## Quando não usar:
- Quando apenas um único arquivo precisa ser enviado (nesse caso, um input de arquivo simples é suficiente).
- Se a lista de arquivos selecionados pode se tornar muito longa, ocupando espaço excessivo na tela e prejudicando a usabilidade.
- Em interfaces onde a complexidade do componente pode confundir o usuário, especialmente se o envio de múltiplos arquivos não for uma necessidade comum.

<br />

## Obs:
- O **MultiFileInput** é derivado do `FileInput` e possui todos os atributos e eventos dele.

<br />

## Preview

<Canvas>
	<Story
		name="MultiFileInput"
		args={{
			documents:[
				{
					name: 'Comprovante de residência',
					required: true,
				},
				{
					name: 'Guia de encaminhamento',
					required: false,
				},
				{
					name: 'RG',
					required: false,
				},
				{
					name: 'Passaporte',
					required: true,
				}
			],
			variant: 'green',
			submitButtonText: 'Enviar arquivos',
			buttonSecondary: false,
		}}
	>
		{ Template.bind({}) }
	</Story>
</Canvas>

<ArgsTable story="MultiFileInput" />
