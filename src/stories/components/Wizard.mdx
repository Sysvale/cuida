import { Meta, Story, Props, Controls, Canvas, Preview } from '@storybook/blocks';
import Wizard from '../../components/Wizard.vue';
import TextInput from '../../components/TextInput.vue';
import * as WizardStories from './Wizard.stories';

<Meta of={WizardStories} />

export const Template = (args) => ({
	components: { CdsWizard: Wizard, CdsTextInput: TextInput },
	setup() {
		return { args };
	},
	data() {
		return {
			activeStep: 0,
		};
	},
	template: /*html*/
		`<cds-wizard
			v-bind="args"
			:active-step="activeStep"
			@step-change="handleStepChange"
			@next-action="handleNextAction"
			@cancel-action="handleCancelAction"
		>
			<template #step-1>
				<div style="height: 400px; gap: 16px; display: flex; flex-direction: column;">
					<cds-text-input
						fluid
						label="Nome"
					/>
					<cds-text-input
						fluid
						label="Sobrenome"
					/>
					<cds-text-input
						fluid
						label="Nome da mãe"
					/>
				</div>
			</template>
			<template #step-2>
				<div style="height: 400px; gap: 16px; display: flex; flex-direction: column;">
					<cds-text-input
						fluid
						label="CEP"
					/>
					<cds-text-input
						fluid
						label="Rua"
					/>
					<cds-text-input
						fluid
						label="Bairro"
					/>
					<cds-text-input
						fluid
						label="Cidade"
					/>
				</div>
			</template>
			<template #step-3>
				<div style="height: 400px; gap: 16px; display: flex; flex-direction: column;">
					<cds-text-input
						fluid
						label="Modalidade"
					/>
					<cds-text-input
						fluid
						label="URL do site"
					/>
					<cds-text-input
						fluid
						label="Informação Complementar"
					/>
				</div>
			</template>
		</cds-wizard>
		<br>
		`,
	methods: {
		handleStepChange(value) {
			console.info('%c@step-change: ', 'color: #2C70CD;', value);
			this.activeStep = value;
		},
		handleNextAction(value) {
			console.info('%c@next-action: ', 'color: #2C70CD;', value.nextStep);
			this.activeStep = value.nextStep;
		},
		handleCancelAction(value) {
			console.info('%c@cancel-action: ', 'color: #2C70CD;', value);
		}
	},
});

# Wizard

### Wizards são componentes utilizados para um processo passo a passo que permite ao usuário inserir informações em uma ordem prescrita e na qual as etapas subsequentes podem depender das informações inseridas nas etapas anteriores.

***

<br />

## Quando usar:

* Quando precisar completar etapas em uma determinada sequência.
* For necessário exibir informações em  blocos para simplificar o fluxo.

<br />

## Quando não usar:

* Quando o processo não for tão complexo, não havendo necessidade de divisão em etapas.
* Quando houver mais de três etapas, deve se considerar dividir em mais processos.
* Quando não houver necessidade de guiar o usuário numa sequência.

<br />

## Preview

export const steps = [
	{
		title: 'Informações gerais',
		subtitle: 'Insira as informações de identificação',
	},
	{
		title: 'Endereço de entrega',
	},
	{
		title: 'Informações complementares',
		subtitle: 'Adicione informações complementares para triagem',
		image: 'https://static.vecteezy.com/system/resources/previews/011/537/753/non_2x/box-empty-state-single-isolated-icon-with-flat-style-free-vector.jpg',
	},
];

<Canvas>
  <Story of={WizardStories.Wizard} />
</Canvas>

<Controls />
